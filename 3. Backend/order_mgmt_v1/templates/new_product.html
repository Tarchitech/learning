{# Inherit from base.html template #}
{% extends "base.html" %}

{# Set page title #}
{% block title %}Create Product - {{ super() }}{% endblock %}

{# Page content #}
{% block content %}

<h1>Create New Product</h1>

<a href="{{ url_for('products_page') }}" class="btn">‚Üê Back to Products</a>


{# 
    HTML Form
    - method="POST": Form submission method is POST
    - action="{{ url_for('new_product') }}": Submit to /products/new route
    - When user clicks submit button, browser sends POST request to /products/new
#}
<form method="POST" action="{{ url_for('new_product') }}">
    {# 
        Form field 1: Product Name
        - name="name": Field name, retrieved in Flask using request.form.get('name')
        - type="text": HTML5 text input type, browser validates format
        - required: Required field
    #}
    <div style="margin: 15px 0;">
        <label for="name">Product Name:</label>
        <input type="text" id="name" name="name" required placeholder="Logitech Mouse">
    </div>
    
    {# 
        Form field 2: Price
        - name="price": Field name, retrieved in Flask using request.form.get('price')
        - type="number": HTML5 number input type, browser validates format
        - required: Required field
    #}
    <div style="margin: 15px 0;">
        <label for="price">Price:</label>
        <input type="number" id="price" name="price" required placeholder="19.99" step="0.01">
    </div>
    
    {# 
        Submit button
        - type="submit": Submits form when clicked
        - After submission, browser sends POST request to form's action URL
    #}
    <button type="submit" class="btn">Create Product</button>
</form>

<h2>Form Processing Flow:</h2>
<ol>
    <li><strong>GET Request:</strong> User visits /products/new, form is displayed (current page)</li>
    <li><strong>User Input:</strong> User enters product name and price</li>
    <li><strong>POST Request:</strong> User clicks "Create Product" button, form is submitted</li>
    <li><strong>Flask Processing:</strong> In new_product() function, request.method == 'POST'</li>
    <li><strong>Get Data:</strong> request.form.get('name') and request.form.get('price')</li>
    <li><strong>Create Product:</strong> Call create_product() function</li>
    <li><strong>Redirect:</strong> redirect(url_for('products_page')) redirects to products list</li>
</ol>
{% endblock %}
